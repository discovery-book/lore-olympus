:root{
  --bg:#0f1020;
  --card:#16172a;
  --text:#f2f3f8;
  --muted:#a8acc7;
  --pink:#ffb3c7;       /* romantique */
  --green:#4caf50;      /* amiti√© */
  --amber:#ffd54f;      /* pouvoir */
  --red:#e53935;        /* conflit */
  --blue:#1e88e5;       /* alliance */
  --node:#cfe7ff;       /* noeuds */
}
*{box-sizing:border-box}
body{
  margin:0; background:linear-gradient(135deg,#0f1020,#17193a 60%,#101129);
  color:var(--text); font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  min-height:100vh; display:grid; grid-template-rows:auto 1fr auto; gap:16px; padding:16px;
}
header, footer{display:flex; align-items:center; justify-content:space-between}
header h1{margin:0; font-size:clamp(20px,2.6vw,32px)}
.badge{padding:.25rem .6rem; border:1px solid #2b2e5e; border-radius:999px; color:var(--muted)}

main{display:grid; grid-template-columns:1fr 360px; gap:16px}
#cy{
  width:100%; height:78vh; min-height:520px;
  background:
    radial-gradient(1200px 600px at 30% 20%,#1a1c3c33,transparent),
    radial-gradient(900px 500px at 70% 80%,#0e6df31c,transparent),
    var(--card);
  border:1px solid #22254a; border-radius:18px; box-shadow:0 10px 30px #0006 inset, 0 10px 40px #0007;
}

aside{
  background:var(--card); border:1px solid #22254a; border-radius:18px; padding:16px; height:78vh; min-height:520px;
  display:flex; flex-direction:column; gap:10px; box-shadow:0 10px 30px #0007;
}
.panel-title{font-weight:700; font-size:18px; margin:0 0 4px}
.small{color:var(--muted); font-size:13px}
.chip{display:inline-flex; gap:6px; align-items:center; padding:.25rem .5rem; border-radius:999px; border:1px solid #2b2e5e; margin-right:6px}
.legend{display:flex; flex-wrap:wrap; gap:8px; margin-top:6px}
.dot{width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:6px}
.dot.romantique{background:var(--pink)}
.dot.amitie{background:var(--green)}
.dot.pouvoir{background:var(--amber)}
.dot.conflit{background:var(--red)}
.dot.alliance{background:var(--blue)}
.controls{display:flex; flex-wrap:wrap; gap:8px; margin-top:6px}
button{
  background:#1e2042; color:var(--text); border:1px solid #2b2e5e; border-radius:12px; padding:.5rem .7rem; cursor:pointer;
  transition:transform .06s ease, background .2s ease, border-color .2s ease; font-weight:600;
}
button:hover{transform:translateY(-1px); background:#242754; border-color:#3550b6}
.card{background:#13142a; border:1px solid #262a5a; border-radius:14px; padding:10px}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-size:13px; color:#b7c7ff}
footer small{color:var(--muted)}

@media (max-width:980px){
  main{grid-template-columns:1fr}
  aside{height:auto; min-height:unset}
  #cy{height:60vh}
}
